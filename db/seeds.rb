# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rake db:seed (or created alongside the db with db:setup).
#
# Examples:
#
#   cities = City.create([{ name: 'Chicago' }, { name: 'Copenhagen' }])
#   Mayor.create(name: 'Emanuel', city: cities.first)

json_seed_data = [
  {
    "name": "Selandir",
    "role": "Damage",
    "class_": "Paladin",
    "tooltip": "Justice demand retribution!",
    "battletag": "nope",
    "valid": true
  },
  {
    "name": "test",
    "role": "Tank",
    "class_": "Death knight",
    "tooltip": "test",
    "battletag": "test",
    "valid": true,
    "deleted": true
  },
  {
    "name": "bizonur",
    "role": "Damage",
    "class_": "Warlock",
    "tooltip": "",
    "battletag": "krogulek#2934",
    "valid": true
  },
  {
    "name": "selandir testuje ostatecznie",
    "role": "Healer",
    "class_": "Mage",
    "tooltip": "krogulec to pizda",
    "battletag": "aleJestSpoko#1234",
    "valid": false,
    "deleted": true
  },
  {
    "name": "testy-hooka",
    "role": "Damage",
    "class_": "Shaman",
    "tooltip": "asda",
    "battletag": "2423",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Kociokwikful/ Plechozaur",
    "role": "Damage",
    "class_": "Warrior",
    "tooltip": "",
    "battletag": "Kociokwik#2593",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Kaseku",
    "role": "Damage",
    "class_": "Hunter",
    "tooltip": "",
    "battletag": "Kaseku#2575",
    "valid": true,
    "deleted": false
  },
  {
    "name": "ThraÄ‚Å¤l",
    "role": "Tank",
    "class_": "Warrior",
    "tooltip": "",
    "battletag": "Thrael#2896",
    "valid": false,
    "deleted": true
  },
  {
    "name": "ThraÄ‚Å¤l",
    "role": "Damage",
    "class_": "Warrior",
    "tooltip": "Ushe The Shadow Warrior",
    "battletag": "Thrael#2896",
    "valid": true,
    "deleted": true
  },
  {
    "name": "ThraÄ‚Å¤l",
    "role": "Damage",
    "class_": "Warrior",
    "tooltip": "Ushe The Shadow Warrior",
    "battletag": "Thrael#2896",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Zelaznykon",
    "role": "Damage",
    "class_": "Hunter",
    "tooltip": "",
    "battletag": "SynSzatana",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Preathorpp",
    "role": "Damage",
    "class_": "Mage",
    "tooltip": "",
    "battletag": "prokop#2167",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Serei",
    "role": "Damage",
    "class_": "Mage",
    "tooltip": "",
    "battletag": "Kubes90#1388",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Uszoll",
    "role": "Damage",
    "class_": "Rogue",
    "tooltip": "",
    "battletag": "ZOLTAN#2293",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Garrnash",
    "role": "Damage",
    "class_": "Warrior",
    "tooltip": "Garnek",
    "battletag": "kolus123#2427",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Garrnash",
    "role": "Damage",
    "class_": "Warrior",
    "tooltip": "Garnek",
    "battletag": "kolus123#2427",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Senel/Panndzia",
    "role": "Damage",
    "class_": "Demon hunter",
    "tooltip": "ZobaczÃ„Â™ co mi siÃ„Â™ bardziej spodoba",
    "battletag": "Ozi#2970",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Eridor",
    "role": "Healer",
    "class_": "Priest",
    "tooltip": "",
    "battletag": "Eridor#1284",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Eridor",
    "role": "Healer",
    "class_": "Priest",
    "tooltip": "",
    "battletag": "Eridor#1284",
    "valid": false,
    "deleted": true
  },
  {
    "name": "errorPUT test",
    "role": "Tank",
    "class_": "Death knight",
    "tooltip": "adsaadsaadsaadsaadsaadsaadsaadsaadsaadsaadsaadsaadsaadsaadsa",
    "battletag": "qweqweqoweqweqlweknqlwkenqwe",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Nenii",
    "role": "Damage",
    "class_": "Hunter",
    "tooltip": "",
    "battletag": "Nenii#2870",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Biokukla",
    "role": "Damage",
    "class_": "Death knight",
    "tooltip": "http://x3.cdn03.imgwykop.pl/c3201142/comment_YUJyVnGOy1HlphXfienwsFnukDzfla85,wat.jpg",
    "battletag": "crd#2966",
    "valid": true,
    "deleted": false
  },
  {
    "name": "t",
    "role": "Tank",
    "class_": "Death knight",
    "tooltip": "t",
    "battletag": "t",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Zaduzodamazu",
    "role": "Healer",
    "class_": "Shaman",
    "tooltip": "knyf",
    "battletag": "knyfito#2829",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Zielonookaa",
    "role": "Damage",
    "class_": "Hunter",
    "tooltip": "",
    "battletag": "Leonia#2106",
    "valid": true,
    "deleted": true
  },
  {
    "name": "AMBAFATIMA",
    "role": "Damage",
    "class_": "Priest",
    "tooltip": "",
    "battletag": "buz#2780",
    "valid": true,
    "deleted": false
  },
  {
    "name": " ",
    "role": "Tank",
    "class_": "Death knight",
    "tooltip": "",
    "battletag": " ",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Lindlay",
    "role": "Healer",
    "class_": "Priest",
    "tooltip": "",
    "battletag": "Lindlay#2122",
    "valid": true,
    "deleted": false
  },
  {
    "name": "DeXeer",
    "role": "Tank",
    "class_": "Warrior",
    "tooltip": "",
    "battletag": "DeeXeer#2371",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Thrael",
    "role": "Damage",
    "class_": "Warrior",
    "tooltip": "Ushe The Shadow Warrior",
    "battletag": "Thrael#2896",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Kuszacypalas",
    "role": "Tank",
    "class_": "Demon hunter",
    "tooltip": "",
    "battletag": "Bloodmati#2321",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Ga",
    "role": "Tank",
    "class_": "Demon hunter",
    "tooltip": "",
    "battletag": "Gamper#2890",
    "valid": false,
    "deleted": true
  },
  {
    "name": "Gamper",
    "role": "Tank",
    "class_": "Demon hunter",
    "tooltip": "",
    "battletag": "Gamper#2890",
    "valid": true,
    "deleted": true
  },
  {
    "name": "kambo",
    "role": "Damage",
    "class_": "Warlock",
    "tooltip": "",
    "battletag": "Monia#2983",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Brazolq",
    "role": "Damage",
    "class_": "Shaman",
    "tooltip": ":)",
    "battletag": "Brazolq#2597",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Gamper",
    "role": "Tank",
    "class_": "Druid",
    "tooltip": "Druidzi krÃ³l",
    "battletag": "Gamper#2890",
    "valid": true,
    "deleted": false
  },
  {
    "name": "Nokem",
    "role": "Tank",
    "class_": "Monk",
    "tooltip": "Kocham Gampera",
    "battletag": "Nokem#2918",
    "valid": true,
    "deleted": false
  }
]
u = User.new(:email => 'not_registered_user@domain.com', :password => 'tvzvuwg4')
u.save

def set_role role, c
  if role == 'Damage'
    case c.downcase
    when 'warlock', 'mage', 'hunter', 'priest'
      'Ranged DD'
    when 'rogue, shaman'
      'Melee DD'
    else 'Melee DD'
    end
  elsif role == 'Tank'
    'Tank'
  elsif role == 'Healer'
    'Healer'
  end
end

json_seed_data.each do |j|
  next if !j[:valid] || j[:deleted]

  new_char = Character.new(
    :name => j[:name],
    :game_class => j[:class_],
    :game_role => set_role(j[:role], j[:class_]),
    :game_tag => j[:battletag],
    :armory_addr => 'http://eu.battle.net/wow/en/character/burning-legion/' + j[:name] + '/simple',
    :user_id => u.id
    )

  puts "#{j[:name]}, #{new_char.save}"
end
